{"version":3,"file":"image_select.min.js","sources":["../src/image_select.js"],"sourcesContent":["/**\n * This file is part of Moodle - http://moodle.org/\n *\n * Moodle is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Moodle is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @package   qtype_imageselect\n * @copyright 2021 Marcus Green\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nexport const init = (isSingle) => {\n  var clickables = document.querySelectorAll(\".selectableimage\");\n  clickables.forEach(item => {\n    item.addEventListener('click', event => {\n      var el = document.getElementById(event.currentTarget.id);\n      var id = event.currentTarget.id;\n      var number = id.split('_')[1];\n      var cbx = document.getElementById('imagecheck_' + number);\n      if (cbx.checked) {\n        el.classList.remove(\"selected\");\n        cbx.checked = false;\n      } else {\n        el.classList.add(\"selected\");\n        cbx.checked = true;\n      }\n      if (isSingle) {\n        clearStyle(el, clickables, id);\n      }\n\n    });\n    function clearStyle(el,clickables, id) {\n      clickables.forEach(item => {\n        if (item.id !== id) {\n          document.getElementById(item.id).classList.remove(\"selected\");\n        }\n      });\n    }\n\n  });\n\n};\n"],"names":["isSingle","clickables","document","querySelectorAll","forEach","item","addEventListener","event","el","getElementById","currentTarget","id","number","split","cbx","checked","classList","remove","add","clearStyle"],"mappings":"mKAqBoB,SAACA,cACfC,WAAaC,SAASC,iBAAiB,oBAC3CF,WAAWG,SAAQ,SAAAC,MACjBA,KAAKC,iBAAiB,SAAS,SAAAC,WACzBC,GAAKN,SAASO,eAAeF,MAAMG,cAAcC,IACjDA,GAAKJ,MAAMG,cAAcC,GACzBC,OAASD,GAAGE,MAAM,KAAK,GACvBC,IAAMZ,SAASO,eAAe,cAAgBG,QAC9CE,IAAIC,SACNP,GAAGQ,UAAUC,OAAO,YACpBH,IAAIC,SAAU,IAEdP,GAAGQ,UAAUE,IAAI,YACjBJ,IAAIC,SAAU,GAEZf,mBAKcQ,GAAGP,WAAYU,IACjCV,WAAWG,SAAQ,SAAAC,MACbA,KAAKM,KAAOA,IACdT,SAASO,eAAeJ,KAAKM,IAAIK,UAAUC,OAAO,eAPpDE,CAAWX,EAAIP,WAAYU"}